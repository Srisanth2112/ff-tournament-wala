<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FF Tournament Registration</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2c3e50;
            --secondary: #3498db;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, var(--primary), var(--dark));
            color: var(--light);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h1 {
            text-align: center;
            margin-bottom: 30px;
            color: var(--light);
            font-weight: 600;
        }
        
        .progress-steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            position: relative;
        }
        
        .progress-steps::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 2px;
            background: rgba(255, 255, 255, 0.3);
            z-index: 1;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
        }
        
        .step-number {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .step.active .step-number {
            background: var(--secondary);
            color: white;
        }
        
        .step.completed .step-number {
            background: var(--accent);
            color: white;
        }
        
        .step-text {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .step.active .step-text {
            color: white;
            font-weight: 500;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        input, select {
            width: 100%;
            padding: 12px 15px;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            font-size: 14px;
            transition: all 0.3s;
        }
        
        input:focus, select:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.3);
        }
        
        .btn {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: all 0.3s;
            display: block;
            width: 100%;
            text-align: center;
        }
        
        .btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .hidden {
            display: none;
        }
        
        /* Animation classes */
        .shake {
            animation: shake 0.5s;
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        /* Responsive adjustments */
        @media (max-width: 600px) {
            .container {
                padding: 20px;
            }
            
            .progress-steps {
                margin-bottom: 20px;
            }
            
            .step-text {
                font-size: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Free Fire Tournament Registration</h1>
        
        <div class="progress-steps">
            <div class="step active">
                <div class="step-number">1</div>
                <div class="step-text">Team Leader</div>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <div class="step-text">Team Members</div>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <div class="step-text">Link Accounts</div>
            </div>
            <div class="step">
                <div class="step-number">4</div>
                <div class="step-text">Payment</div>
            </div>
        </div>
        
        <form id="teamLeaderForm">
            <div class="form-group">
                <label for="teamName">Team Name</label>
                <input type="text" id="teamName" required placeholder="Enter your team name">
            </div>
            
            <div class="form-group">
                <label for="leaderName">Team Leader Name</label>
                <input type="text" id="leaderName" required placeholder="Enter team leader name">
            </div>
            
            <div class="form-group">
                <label for="leaderPhone">Team Leader Phone Number</label>
                <input type="tel" id="leaderPhone" required placeholder="Enter phone number">
            </div>
            
            <div class="form-group">
                <label for="leaderEmail">Team Leader Email</label>
                <input type="email" id="leaderEmail" required placeholder="Enter email address">
            </div>
            
            <div class="form-group">
                <label for="leaderFFID">Team Leader Free Fire ID</label>
                <input type="text" id="leaderFFID" required placeholder="Enter Free Fire ID">
            </div>
            
            <button type="submit" class="btn">Next: Add Team Members</button>
        </form>
        
        <form id="teamMembersForm" class="hidden">
            <!-- This will be populated by JavaScript -->
            <div id="membersContainer"></div>
            <button type="button" id="addMemberBtn" class="btn" style="background: var(--accent); margin-bottom: 15px;">Add Team Member</button>
            <button type="submit" class="btn">Next: Link Accounts</button>
        </form>
        
        <div id="linkAccountsSection" class="hidden">
            <h2 style="text-align: center; margin-bottom: 20px;">Link Free Fire Accounts</h2>
            <p style="text-align: center; margin-bottom: 30px;">Please ensure all team members have linked their Free Fire accounts correctly.</p>
            
            <div id="accountsList" style="margin-bottom: 30px;">
                <!-- Accounts will be listed here -->
            </div>
            
            <button id="linkAccountsBtn" class="btn">Link Accounts with Google</button>
        </div>
        
        <div id="paymentSection" class="hidden">
            <h2 style="text-align: center; margin-bottom: 20px;">Tournament Entry Fee</h2>
            
            <div class="form-group">
                <label>Select Entry Fee</label>
                <select id="entryFee" required>
                    <option value="" disabled selected>Select amount</option>
                    <option value="300">₹300</option>
                    <option value="500">₹500</option>
                    <option value="1000">₹1000</option>
                    <option value="1500">₹1500</option>
                    <option value="2000">₹2000</option>
                </select>
            </div>
            
            <div style="margin: 30px 0;">
                <h3 style="text-align: center; margin-bottom: 15px;">Payment Methods</h3>
                <div style="display: flex; justify-content: center; gap: 15px; margin-bottom: 20px;">
                    <div class="payment-method" data-method="phonepe" style="cursor: pointer; text-align: center;">
                        <img src="https://via.placeholder.com/60x60?text=PhonePe" alt="PhonePe" style="width: 60px; height: 60px; border-radius: 10px; margin-bottom: 5px;">
                        <div>PhonePe</div>
                    </div>
                    <div class="payment-method" data-method="paytm" style="cursor: pointer; text-align: center;">
                        <img src="https://via.placeholder.com/60x60?text=Paytm" alt="Paytm" style="width: 60px; height: 60px; border-radius: 10px; margin-bottom: 5px;">
                        <div>Paytm</div>
                    </div>
                    <div class="payment-method" data-method="googlepay" style="cursor: pointer; text-align: center;">
                        <img src="https://via.placeholder.com/60x60?text=GPay" alt="Google Pay" style="width: 60px; height: 60px; border-radius: 10px; margin-bottom: 5px;">
                        <div>Google Pay</div>
                    </div>
                </div>
            </div>
            
            <button id="proceedPaymentBtn" class="btn" disabled>Proceed to Payment</button>
        </div>
        
        <div id="confirmationSection" class="hidden">
            <div style="text-align: center; margin-bottom: 30px;">
                <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="#2ecc71" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="margin-bottom: 20px;">
                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
                <h2>Registration Successful!</h2>
                <p style="margin-top: 15px;">Your team has been registered for the tournament.</p>
                <p>Payment confirmation will be sent to your email.</p>
            </div>
            
            <div id="teamCard" style="background: rgba(255, 255, 255, 0.1); border-radius: 10px; padding: 20px; margin-bottom: 30px;">
                <h3 style="text-align: center; margin-bottom: 15px; color: var(--secondary);">Your Team Details</h3>
                <div id="teamDetails"></div>
            </div>
            
            <button id="viewTeamsBtn" class="btn" style="background: var(--accent);">View All Registered Teams</button>
        </div>
    </div>
    
    <script>
        // Step 1: Team Leader Information
        const teamLeaderForm = document.getElementById('teamLeaderForm');
        const teamMembersForm = document.getElementById('teamMembersForm');
        const linkAccountsSection = document.getElementById('linkAccountsSection');
        const paymentSection = document.getElementById('paymentSection');
        const confirmationSection = document.getElementById('confirmationSection');
        
        let teamData = {
            teamName: '',
            leader: {
                name: '',
                phone: '',
                email: '',
                ffId: ''
            },
            members: [],
            payment: {
                amount: 0,
                method: ''
            }
        };
        
        teamLeaderForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Validate form
            if (!validateTeamLeaderForm()) {
                return;
            }
            
            // Save team leader data
            teamData.teamName = document.getElementById('teamName').value;
            teamData.leader.name = document.getElementById('leaderName').value;
            teamData.leader.phone = document.getElementById('leaderPhone').value;
            teamData.leader.email = document.getElementById('leaderEmail').value;
            teamData.leader.ffId = document.getElementById('leaderFFID').value;
            
            // Hide current form and show next
            teamLeaderForm.classList.add('hidden');
            teamMembersForm.classList.remove('hidden');
            
            // Update progress steps
            updateProgressSteps(2);
            
            // Initialize team members form
            initializeTeamMembersForm();
        });
        
        function validateTeamLeaderForm() {
            // Simple validation - in a real app you'd want more robust validation
            const phone = document.getElementById('leaderPhone').value;
            const email = document.getElementById('leaderEmail').value;
            
            if (phone.length !== 10 || isNaN(phone)) {
                alert('Please enter a valid 10-digit phone number');
                document.getElementById('leaderPhone').classList.add('shake');
                setTimeout(() => {
                    document.getElementById('leaderPhone').classList.remove('shake');
                }, 500);
                return false;
            }
            
            if (!email.includes('@') || !email.includes('.')) {
                alert('Please enter a valid email address');
                document.getElementById('leaderEmail').classList.add('shake');
                setTimeout(() => {
                    document.getElementById('leaderEmail').classList.remove('shake');
                }, 500);
                return false;
            }
            
            return true;
        }
        
        // Step 2: Team Members
        const membersContainer = document.getElementById('membersContainer');
        const addMemberBtn = document.getElementById('addMemberBtn');
        
        function initializeTeamMembersForm() {
            membersContainer.innerHTML = '';
            teamData.members = [];
            
            // Add initial member (minimum 4 members + leader = 5 total)
            for (let i = 0; i < 4; i++) {
                addTeamMember();
            }
        }
        
        function addTeamMember() {
            if (teamData.members.length >= 4) {
                alert('Maximum team size is 5 (including leader)');
                return;
            }
            
            const memberId = Date.now();
            const memberHtml = `
                <div class="member-form" data-id="${memberId}" style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                    <h3 style="margin-bottom: 10px; font-size: 16px;">Team Member ${teamData.members.length + 1}</h3>
                    <div class="form-group">
                        <label for="memberName${memberId}">Member Name</label>
                        <input type="text" id="memberName${memberId}" required placeholder="Enter member name">
                    </div>
                    <div class="form-group">
                        <label for="memberPhone${memberId}">Phone Number</label>
                        <input type="tel" id="memberPhone${memberId}" required placeholder="Enter phone number">
                    </div>
                    <div class="form-group">
                        <label for="memberEmail${memberId}">Email</label>
                        <input type="email" id="memberEmail${memberId}" placeholder="Enter email (optional)">
                    </div>
                    <div class="form-group">
                        <label for="memberFFID${memberId}">Free Fire ID</label>
                        <input type="text" id="memberFFID${memberId}" required placeholder="Enter Free Fire ID">
                    </div>
                    <button type="button" class="btn remove-member-btn" style="background: var(--accent); padding: 8px 15px; font-size: 14px;">Remove Member</button>
                </div>
            `;
            
            membersContainer.insertAdjacentHTML('beforeend', memberHtml);
            
            // Add to team data
            teamData.members.push({
                id: memberId,
                name: '',
                phone: '',
                email: '',
                ffId: ''
            });
            
            // Add event listener to remove button
            const removeBtn = document.querySelector(`.member-form[data-id="${memberId}"] .remove-member-btn`);
            removeBtn.addEventListener('click', function() {
                if (teamData.members.length <= 4) {
                    alert('Minimum team size is 5 (including leader)');
                    return;
                }
                
                document.querySelector(`.member-form[data-id="${memberId}"]`).remove();
                teamData.members = teamData.members.filter(member => member.id !== memberId);
            });
        }
        
        addMemberBtn.addEventListener('click', addTeamMember);
        
        teamMembersForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Validate and save member data
            let allValid = true;
            
            teamData.members.forEach(member => {
                const name = document.getElementById(`memberName${member.id}`).value;
                const phone = document.getElementById(`memberPhone${member.id}`).value;
                const email = document.getElementById(`memberEmail${member.id}`).value;
                const ffId = document.getElementById(`memberFFID${member.id}`).value;
                
                if (!name || !phone || !ffId) {
                    allValid = false;
                    return;
                }
                
                if (phone.length !== 10 || isNaN(phone)) {
                    allValid = false;
                    document.getElementById(`memberPhone${member.id}`).classList.add('shake');
                    setTimeout(() => {
                        document.getElementById(`memberPhone${member.id}`).classList.remove('shake');
                    }, 500);
                    return;
                }
                
                member.name = name;
                member.phone = phone;
                member.email = email;
                member.ffId = ffId;
            });
            
            if (!allValid) {
                alert('Please fill all required fields for all team members');
                return;
            }
            
            // Hide current form and show next
            teamMembersForm.classList.add('hidden');
            linkAccountsSection.classList.remove('hidden');
            
            // Update progress steps
            updateProgressSteps(3);
            
            // Display accounts to link
            displayAccountsList();
        });
        
        function displayAccountsList() {
            const accountsList = document.getElementById('accountsList');
            accountsList.innerHTML = '';
            
            // Add leader
            accountsList.innerHTML += `
                <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                    <h3 style="margin-bottom: 10px; font-size: 16px;">Team Leader: ${teamData.leader.name}</h3>
                    <p>Free Fire ID: ${teamData.leader.ffId}</p>
                    <div class="verification-status" data-role="leader" style="margin-top: 10px; color: #e74c3c;">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10"></circle>
                            <line x1="12" y1="8" x2="12" y2="12"></line>
                            <line x1="12" y1="16" x2="12.01" y2="16"></line>
                        </svg>
                        <span style="margin-left: 5px;">Not verified</span>
                    </div>
                </div>
            `;
            
            // Add members
            teamData.members.forEach((member, index) => {
                accountsList.innerHTML += `
                    <div style="background: rgba(255, 255, 255, 0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px;">
                        <h3 style="margin-bottom: 10px; font-size: 16px;">Member ${index + 1}: ${member.name}</h3>
                        <p>Free Fire ID: ${member.ffId}</p>
                        <div class="verification-status" data-role="member-${index}" style="margin-top: 10px; color: #e74c3c;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <line x1="12" y1="8" x2="12" y2="12"></line>
                                <line x1="12" y1="16" x2="12.01" y2="16"></line>
                            </svg>
                            <span style="margin-left: 5px;">Not verified</span>
                        </div>
                    </div>
                `;
            });
        }
        
        // Step 3: Link Accounts
        document.getElementById('linkAccountsBtn').addEventListener('click', function() {
            // In a real app, this would initiate OAuth flow with Google
            // For demo, we'll simulate successful linking
            
            // Simulate linking all accounts
            const verificationStatuses = document.querySelectorAll('.verification-status');
            verificationStatuses.forEach(status => {
                status.innerHTML = `
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#2ecc71" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                        <polyline points="22 4 12 14.01 9 11.01"></polyline>
                    </svg>
                    <span style="margin-left: 5px; color: #2ecc71;">Verified</span>
                `;
            });
            
            // After 1.5 seconds, proceed to payment
            setTimeout(() => {
                linkAccountsSection.classList.add('hidden');
                paymentSection.classList.remove('hidden');
                updateProgressSteps(4);
            }, 1500);
        });
        
        // Step 4: Payment
        const paymentMethods = document.querySelectorAll('.payment-method');
        const proceedPaymentBtn = document.getElementById('proceedPaymentBtn');
        
        let selectedPaymentMethod = '';
        
        paymentMethods.forEach(method => {
            method.addEventListener('click', function() {
                // Remove selected class from all
                paymentMethods.forEach(m => {
                    m.style.opacity = '0.7';
                });
                
                // Add selected class to clicked
                this.style.opacity = '1';
                this.style.transform = 'scale(1.05)';
                
                selectedPaymentMethod = this.getAttribute('data-method');
                teamData.payment.method = selectedPaymentMethod;
                
                // Enable proceed button if amount is selected
                if (document.getElementById('entryFee').value) {
                    proceedPaymentBtn.disabled = false;
                }
            });
        });
        
        document.getElementById('entryFee').addEventListener('change', function() {
            teamData.payment.amount = parseInt(this.value);
            
            // Enable proceed button if payment method is selected
            if (selectedPaymentMethod) {
                proceedPaymentBtn.disabled = false;
            }
        });
        
        proceedPaymentBtn.addEventListener('click', function() {
            // In a real app, this would redirect to payment gateway
            // For demo, we'll simulate successful payment
            
            // Show confirmation
            paymentSection.classList.add('hidden');
            confirmationSection.classList.remove('hidden');
            
            // Display team details
            displayTeamCard();
        });
        
        function displayTeamCard() {
            const teamDetails = document.getElementById('teamDetails');
            
            let membersHtml = '';
            teamData.members.forEach((member, index) => {
                membersHtml += `
                    <div style="margin-bottom: 10px;">
                        <strong>Member ${index + 1}:</strong> ${member.name} (${member.ffId})
                    </div>
                `;
            });
            
            teamDetails.innerHTML = `
                <div style="margin-bottom: 15px;">
                    <strong>Team Name:</strong> ${teamData.teamName}
                </div>
                <div style="margin-bottom: 15px;">
                    <strong>Team Leader:</strong> ${teamData.leader.name} (${teamData.leader.ffId})
                </div>
                <div style="margin-bottom: 15px;">
                    <strong>Team Members:</strong>
                    ${membersHtml}
                </div>
                <div style="margin-bottom: 15px;">
                    <strong>Entry Fee:</strong> ₹${teamData.payment.amount} (paid via ${teamData.payment.method})
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <button class="btn" style="background: var(--secondary); padding: 10px 20px; font-size: 14px;">Request to Play</button>
                </div>
            `;
            
            // Add event listener to request button
            document.querySelector('#teamDetails button').addEventListener('click', function() {
                alert('Request sent to tournament organizer! They will contact you soon.');
            });
        }
        
        function updateProgressSteps(activeStep) {
            const steps = document.querySelectorAll('.step');
            
            steps.forEach((step, index) => {
                step.classList.remove('active', 'completed');
                
                if (index + 1 < activeStep) {
                    step.classList.add('completed');
                } else if (index + 1 === activeStep) {
                    step.classList.add('active');
                }
            });
        }
        
        // View Teams Button
        document.getElementById('viewTeamsBtn').addEventListener('click', function() {
            alert('This would show a list of all registered teams in a real application.');
        });
    </script>
</body>
</html>